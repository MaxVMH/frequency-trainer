<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>frequency trainer</title>
  <link href="https://fonts.googleapis.com/css?family=Montserrat:900" rel="stylesheet">
  <link rel="stylesheet" type="text/css" href="css/default.css" />
  <script src="toneGenerator.js"></script>
</head>
<body>

  <table class="geq">
    <tr class="geq">
      <td class="geq" colspan="4">
        <h1 class="align-center">Frequency Trainer</h1>
        <hr />
      </td>
    </tr>
    <tr id="geqfaderrow">
    </tr>
    <tr>
      <td colspan="4" class="geq">
        <hr />
      </td>
    </tr>
    <tr>
      <td colspan="4" class="geq">
        Volume:<br />
        <br />
        <input id="volume-control" type="range" min="0" max="20" value="2" step="0.1" class="volume-control" /><br />
        <br />
        <button type="button" id="start-button" class="control-button">Start</button>
        <button type="button" id="stop-button" class="control-button">Stop</button><br />
        <br />
        <button type="button" id="next-button" class="control-button">Next</button>
      </td>
    </tr>
  </table>


  <script>
  createToneGenerator('easy');

  // Create the graphical faders
  let geqFaderRow = document.getElementById('geqfaderrow');
  let i=0;
  let geqFaderFrequency = null;
  for (geqFaderFrequency of frequencies)
  {
    i++;
    let geqFaderCell = geqFaderRow.insertCell(-1);
    geqFaderFrequencyAbbreviated = numberAbbreviator(geqFaderFrequency);
    geqFaderCell.innerHTML = geqFaderFrequencyAbbreviated + 'Hz <br /><img class="geqfader" data-frequency="' + geqFaderFrequency + '" src="img/fader.png" /><br />' + geqFaderFrequencyAbbreviated + 'Hz';
    geqFaderCell.className = 'geq';
  };

  // Show result when user clicks on a fader
  let geqFaders = document.getElementsByClassName('geqfader');
  for(let geqFader of geqFaders){
    geqFader.addEventListener('click', function(e) {
      showResult(e.target.getAttribute('data-frequency'), frequency);
    });
  }
  </script>

</body>
</html>
